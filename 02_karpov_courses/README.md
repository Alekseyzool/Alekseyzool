# Проекты Karpov.Courses

## AA & AB Simulator
**Цель:** Проверить корректность сплитования и оценить влияние новой рекомендательной ленты на CTR.  
**Данные:** Временные ряды действий пользователей из ClickHouse (`simulator_20250820.feed_actions`).  
**Подход:** Повторные Welch t-тесты для A/A проверки, анализ A/B теста (Welch t-test, Mann–Whitney), сглаживание CTR и пуассоновский бутстрап, визуализация распределений.  
**Метрики/результаты:** Оценена стабильность сплитов и рассчитан uplift CTR для тестовой группы; сформулированы рекомендации по раскатке алгоритма.

## Стек
`Python`, `Pandas`, `NumPy`, `SciPy`, `Matplotlib`, `Seaborn`, `clickhouse-connect`, `swifter`

## Файлы
- `AA_AB_karpov_simulator.ipynb` — полный анализ A/A и A/B тестов CTR.

## Быстрый старт
- Подготовьте доступ к ClickHouse (логин `student`, пароль `dpo_python_2020`) и выполните ноутбук в Jupyter.

---

## Dating App Pricing (Final Project, вариант 3)
**Цель:** Оценить влияние повышения цены премиума и изменения платёжных систем в дейтинговом приложении.  
**Данные:** CSV с пользователями и транзакциями трёх групп (`Проект_3_users_*`, `Проект_3_transactions_*`).  
**Подход:** Очистка и приведение типов, объединение контролей, расчёт метрик (CR, ARPU, ARPPU, Trial share), статистические тесты, бутстрап uplift, анализ мощности и корректировки множественных проверок.  
**Метрики/результаты:** Зафиксирован спад конверсии и отсутствие значимого прироста ARPU; даны рекомендации по дальнейшим экспериментам.

## Стек
`Python`, `Pandas`, `NumPy`, `SciPy`, `Statsmodels`, `Seaborn`, `Matplotlib`

## Файлы
- `Final_project_Karpov_3v (2).ipynb` — полный пайплайн проверки гипотезы и выводов.

## Быстрый старт
- Разместите CSV-файлы в рабочей директории и запустите ноутбук; основные пути указаны в первых ячейках.

---

## Orbit Prediction
**Цель:** Построить почасовой прогноз CTR ленты и оценить компоненты ряда после изменений алгоритмов.  
**Данные:** CTR по действиям пользователей из ClickHouse; дополнительные признаки по постам.  
**Подход:** Orbit DLT (MAP и MCMC), визуализация компонентов, бэктесты (expanding/rolling окна), подбор параметров grid search, оценка причинно-следственного эффекта с помощью `CausalImpact`.  
**Метрики/результаты:** Получены недельные прогнозы CTR с доверительными интервалами, проверены риски модели и зафиксирован эффект от вмешательства.

## Стек
`Python`, `Pandas`, `NumPy`, `Orbit`, `Matplotlib`, `Seaborn`, `SciPy`, `ArviZ`, `CausalImpact`, `pycausalimpact`, `clickhouse-connect`, `swifter`

## Файлы
- `Orbit_prediction.ipynb` — построение модели Orbit, диагностика и прогнозы.

## Быстрый старт
- Настройте подключение к ClickHouse и установите зависимости (`orbit`, `arviz`, `causalimpact`, `pycausalimpact`), затем выполните ноутбук.

---

## Predicting Server Loads
**Цель:** Спрогнозировать активность пользователей для планирования серверной нагрузки.  
**Данные:** Почасовые метрики активности и уникальных пользователей из ClickHouse.  
**Подход:** Ресемплирование и выбор частоты, модели Seasonal Naive, Orbit KTRLite/DLT и CatBoost, бэктестирование, сравнение по WMAPE/sMAPE, интерпретация компонент.  
**Метрики/результаты:** Определён горизонт, где прогноз стабилен, выбрана наилучшая модель и подготовлены рекомендации по обновлению прогноза.

## Стек
`Python`, `Pandas`, `NumPy`, `Orbit`, `CatBoost`, `clickhouse-connect`

## Файлы
- `Predicting_server_loads.ipynb` — подготовка данных, обучение моделей и сравнение результатов.

## Быстрый старт
- Выполните ноутбук; для CatBoost требуется установка `catboost`, для работы с данными — подключение к ClickHouse.

---

## AB Pricing Experiment Analysis
**Цель:** Проанализировать A/B тест изменения цены премиума и оценить бизнес-эффект.  
**Данные:** CSV-файлы пользователей и транзакций трёх групп.  
**Подход:** Очистка и проверка данных, формирование 14‑дневного окна, проверка эквивалентности контролей, расчёт продуктовых метрик, критерии χ² и Mann–Whitney, визуализация и формирование отчёта.  
**Метрики/результаты:** Подготовлены консистентные метрики Users/Payers/CR/ARPU, выявлены сегменты с негативным эффектом и сформулированы рекомендации.

## Стек
`Python`, `Pandas`, `NumPy`, `Matplotlib`, `Seaborn`, `SciPy`, `os`

## Файлы
- `ab_pricing_experiment_analysis.ipynb` — пошаговый анализ теста и подготовка выводов.

## Быстрый старт
- Убедитесь, что CSV доступны по путям из ноутбука, и выполните анализ в Jupyter.

---

## AB Test Analysis
**Цель:** Проверить гипотезы по изменению цены премиума и оценить влияние на ключевые метрики.  
**Данные:** Пользователи и транзакции тестовой и контрольных групп.  
**Подход:** Контроль качества данных, агрегирование метрик, пропорциональные z‑тесты, Welch t-test для ARPU, анализ сегментов по странам, визуализация распределений.  
**Метрики/результаты:** Получены p-value для конверсии и ARPU, определены страны с негативным лифтом и предложены дальнейшие шаги.

## Стек
`Python`, `Pandas`, `NumPy`, `Matplotlib`, `SciPy`, `Statsmodels`, `os`

## Файлы
- `ab_test_analysis.ipynb` — аналитика теста и сегментный разбор.

## Быстрый старт
- Синхронизируйте наборы данных и запустите ноутбук; результаты формируются в ячейках вывода.

---

## AB Test Project 3
**Цель:** Оценить эксперимент с двумя контролями и тестом по цене премиума (вариант 3).  
**Данные:** Users/transactions CSV с кодировкой `;` и возможными различиями в encoding.  
**Подход:** Гибкая загрузка файлов с autodetect кодировок, унификация структур, расчёт метрик, Z‑тесты конверсий, Mann–Whitney по выручке, bootstrap uplift, сегментация и экспорт отчётов.  
**Метрики/результаты:** Описаны эффекты по конверсии и ARPU; выгружены CSV с агрегатами и финальным отчётом.

## Стек
`Python`, `Pandas`, `NumPy`, `SciPy`, `Pathlib`

## Файлы
- `ab_test_project_3_notebook.ipynb` — реплика полного анализа варианта 3.

## Быстрый старт
- Укажите корректные пути к CSV в первых ячейках и выполните ноутбук; итоговые файлы сохраняются рядом с источниками.

---

## Bank Churn Model
**Цель:** Прогнозировать отток клиентов банка с минимальной F1 ≥ 0.59.  
**Данные:** Исторические клиентские записи (`Churn.csv`) с признаками и целевым признаком ухода.  
**Подход:** Предобработка данных, заполнение пропусков, OHE, разделение на train/valid/test, балансировка (upsampling/downsampling), обучение LogisticRegression, DecisionTree и RandomForest, подбор порогов, сравнение по F1 и ROC-AUC.  
**Метрики/результаты:** Случайный лес достиг F1 ≈ 0.61 и ROC-AUC ≈ 0.86; зафиксированы эффекты балансировки и рекомендации по внедрению.

## Стек
`Python`, `Pandas`, `NumPy`, `scikit-learn`, `warnings`

## Файлы
- `churn_customer_bank.ipynb` — подготовка данных, обучение моделей и итоговый отчёт.

## Быстрый старт
- Скачайте датасет (см. ссылку в ноутбуке) и выполните анализ; результаты отображаются в конце ноутбука.

